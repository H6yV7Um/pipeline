<div class="job-detail-head">
    <div class="job-build-title">任务信息</div>
</div>

<div class="plugin-job-jenkins" ng-controller="JenkinsJobController as ctrl" >
    <div ng-init="ctrl.getInfo(build)">
    <div class="jenkins-job-info" ng-if="ctrl.loaded && build.buildNumber != null">
        <i class="jenkins"></i> <a target="_blank" ng-href="{{ctrl.jenkinsJob.jobUrl}}">{{ctrl.jenkinsJob.jobName}}</a>

        <a ng-href="{{ctrl.jenkinsJob.buildUrl}}" target="_blank">#{{ctrl.jenkinsJob.buildNumber}}</a>
        <a target="_blank" ng-href="{{ctrl.jenkinsJob.buildUrl + '/console'}}">查看构建日志</a>
    </div>
    <div ng-show="ctrl.loaded && build.buildNumber == null" class="alert alert-warning ng-hide" role="alert"><i class="fa fa-exclamation-triangle"></i> 任务 {{agileJobBuild.jobName}} 未开始执行<span ng-if="ctrl.jenkinsJob">：<i class="jenkins"></i> <a target="_blank" ng-href="{{ctrl.jenkinsJob.jobUrl}}">{{ctrl.jenkinsJob.jobName}}</a></span></div>
        </div>
</div>